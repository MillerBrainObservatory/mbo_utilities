selector_to_html = {"a[href=\"#a-detection-logic\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">A. Detection Logic<a class=\"headerlink\" href=\"#a-detection-logic\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#d-key-properties\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">D. Key Properties<a class=\"headerlink\" href=\"#d-key-properties\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#a-reactive-metadata-adjustments\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">A. Reactive Metadata Adjustments<a class=\"headerlink\" href=\"#a-reactive-metadata-adjustments\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#metadata-extraction-options-get-metadata\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">3. Metadata Extraction Options (<code class=\"docutils literal notranslate\"><span class=\"pre\">get_metadata</span></code>)<a class=\"headerlink\" href=\"#metadata-extraction-options-get-metadata\" title=\"Link to this heading\">#</a></h2><p>When you call <code class=\"docutils literal notranslate\"><span class=\"pre\">get_metadata(file)</span></code>, the following decision tree is executed:</p>", "a[href=\"#core-concepts-variables\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">1. Core Concepts &amp; Variables<a class=\"headerlink\" href=\"#core-concepts-variables\" title=\"Link to this heading\">#</a></h2><h3>The <code class=\"docutils literal notranslate\"><span class=\"pre\">ops</span></code> Variable<a class=\"headerlink\" href=\"#the-ops-variable\" title=\"Link to this heading\">#</a></h3><p>While <code class=\"docutils literal notranslate\"><span class=\"pre\">plane_ops</span></code> is often referenced in user scripts, in the codebase this conceptually maps to the <strong><code class=\"docutils literal notranslate\"><span class=\"pre\">ops</span></code> dictionary</strong> loaded from <code class=\"docutils literal notranslate\"><span class=\"pre\">ops.npy</span></code>.</p>", "a[href=\"#important-variables\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Important Variables<a class=\"headerlink\" href=\"#important-variables\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#planar-vs-volumetric-handling\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">2. Planar vs. Volumetric Handling<a class=\"headerlink\" href=\"#planar-vs-volumetric-handling\" title=\"Link to this heading\">#</a></h2><p>The system automatically detects whether data is 2D (Planar) or 3D+T (Volumetric) based on file structure and metadata tags.</p>", "a[href=\"#b-usage-example\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">B. Usage Example<a class=\"headerlink\" href=\"#b-usage-example\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#metadata-handling-deep-dive\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">Metadata Handling Deep Dive<a class=\"headerlink\" href=\"#metadata-handling-deep-dive\" title=\"Link to this heading\">#</a></h1><p>This document provides an in-depth breakdown of how metadata, options, and planar/volumetric data are handled in <code class=\"docutils literal notranslate\"><span class=\"pre\">mbo_utilities</span></code>.</p><p>The metadata system is centralized in <code class=\"docutils literal notranslate\"><span class=\"pre\">mbo_utilities.metadata</span></code> but heavily integrated into the Array classes (<code class=\"docutils literal notranslate\"><span class=\"pre\">Suite2pArray</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">TiffArray</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">ScanImageArray</span></code>). The system is designed to normalize disparate inputs (ScanImage headers, Suite2p <code class=\"docutils literal notranslate\"><span class=\"pre\">ops.npy</span></code>, ImageJ tags) into a minimal standard set of \u201ccanonical\u201d keys.</p>", "a[href=\"#summary-of-plane-ops\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Summary of <code class=\"docutils literal notranslate\"><span class=\"pre\">plane_ops</span></code><a class=\"headerlink\" href=\"#summary-of-plane-ops\" title=\"Link to this heading\">#</a></h3><p>If you are looking for a variable strictly named <code class=\"docutils literal notranslate\"><span class=\"pre\">plane_ops</span></code>, it does not exist as a global class. It likely refers to:</p>", "a[href=\"#c-format-specific-output\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">C. Format-Specific Output<a class=\"headerlink\" href=\"#c-format-specific-output\" title=\"Link to this heading\">#</a></h3><p><code class=\"docutils literal notranslate\"><span class=\"pre\">OutputMetadata</span></code> provides builders for different output formats:</p>", "a[href=\"#the-ops-variable\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">ops</span></code> Variable<a class=\"headerlink\" href=\"#the-ops-variable\" title=\"Link to this heading\">#</a></h3><p>While <code class=\"docutils literal notranslate\"><span class=\"pre\">plane_ops</span></code> is often referenced in user scripts, in the codebase this conceptually maps to the <strong><code class=\"docutils literal notranslate\"><span class=\"pre\">ops</span></code> dictionary</strong> loaded from <code class=\"docutils literal notranslate\"><span class=\"pre\">ops.npy</span></code>.</p>", "a[href=\"#b-internal-handling-the-plane-ops\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">B. Internal Handling (The \u201cPlane Ops\u201d)<a class=\"headerlink\" href=\"#b-internal-handling-the-plane-ops\" title=\"Link to this heading\">#</a></h3><p>In <code class=\"docutils literal notranslate\"><span class=\"pre\">Suite2pArray</span></code>, the distinction is explicit in the initialization:</p>", "a[href=\"#in-depth-reference-table\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">4. In-Depth Reference Table<a class=\"headerlink\" href=\"#in-depth-reference-table\" title=\"Link to this heading\">#</a></h2><h3>Summary of <code class=\"docutils literal notranslate\"><span class=\"pre\">plane_ops</span></code><a class=\"headerlink\" href=\"#summary-of-plane-ops\" title=\"Link to this heading\">#</a></h3><p>If you are looking for a variable strictly named <code class=\"docutils literal notranslate\"><span class=\"pre\">plane_ops</span></code>, it does not exist as a global class. It likely refers to:</p>", "a[href=\"#output-metadata-outputmetadata\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">5. Output Metadata (<code class=\"docutils literal notranslate\"><span class=\"pre\">OutputMetadata</span></code>)<a class=\"headerlink\" href=\"#output-metadata-outputmetadata\" title=\"Link to this heading\">#</a></h2><p>When writing subsets of data (e.g., every Nth z-plane, specific frame ranges), metadata needs to be adjusted accordingly. The <code class=\"docutils literal notranslate\"><span class=\"pre\">OutputMetadata</span></code> class handles this transformation automatically.</p>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(` ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
