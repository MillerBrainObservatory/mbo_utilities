selector_to_html = {"a[href=\"#save-a-small-test-dataset\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Save a small test dataset<a class=\"headerlink\" href=\"#save-a-small-test-dataset\" title=\"Link to this heading\">#</a></h3><p>Extract 100 frames from planes 7-9 to work with.</p><p>Use <code class=\"docutils literal notranslate\"><span class=\"pre\">output_suffix</span></code> to customize the output filename (default: <code class=\"docutils literal notranslate\"><span class=\"pre\">_stitched</span></code> for multi-ROI data):</p>", "a[href=\"#working-with-in-memory-numpy-arrays\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Working with In-Memory Numpy Arrays<a class=\"headerlink\" href=\"#working-with-in-memory-numpy-arrays\" title=\"Link to this heading\">#</a></h3><p>You can wrap any numpy array with <code class=\"docutils literal notranslate\"><span class=\"pre\">imread()</span></code> to get full <code class=\"docutils literal notranslate\"><span class=\"pre\">imwrite()</span></code> support, including zarr chunking, compression, and sharding.</p><p>For detailed documentation on <code class=\"docutils literal notranslate\"><span class=\"pre\">NumpyArray</span></code> properties, methods, and use cases, see <a class=\"reference external\" href=\"https://millerbrainobservatory.github.io/mbo_utilities/file_formats.html#numpyarray\">Supported Formats</a>.</p>", "a[href=\"#reading-and-writing-data\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Reading and Writing Data<a class=\"headerlink\" href=\"#reading-and-writing-data\" title=\"Link to this heading\">#</a></h2><p><code class=\"docutils literal notranslate\"><span class=\"pre\">imread</span></code> is a lazy-file reader.</p><p>Pass a file, list of files, or directory and it will read the image data and metadata.</p>", "a[href=\"#read-and-explore-the-saved-data\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Read and explore the saved data<a class=\"headerlink\" href=\"#read-and-explore-the-saved-data\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#accessing-metadata\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Accessing metadata<a class=\"headerlink\" href=\"#accessing-metadata\" title=\"Link to this heading\">#</a></h2><p>All lazy arrays expose metadata via the <code class=\"docutils literal notranslate\"><span class=\"pre\">.metadata</span></code> property:</p>", "a[href=\"#array-type-specific-metadata\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Array-Type-Specific Metadata<a class=\"headerlink\" href=\"#array-type-specific-metadata\" title=\"Link to this heading\">#</a></h3><p>Some metadata only applies to certain stack types:</p>", "a[href=\"#imaging-vs-acquisition-metadata\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Imaging vs Acquisition Metadata<a class=\"headerlink\" href=\"#imaging-vs-acquisition-metadata\" title=\"Link to this heading\">#</a></h3><p><strong>Imaging metadata</strong> describes the physical data:</p>", "a[href=\"#d-data\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">4D Data<a class=\"headerlink\" href=\"#d-data\" title=\"Link to this heading\">#</a></h3><p>For 4D data <code class=\"docutils literal notranslate\"><span class=\"pre\">(T,</span> <span class=\"pre\">Z,</span> <span class=\"pre\">Y,</span> <span class=\"pre\">X)</span></code>, select which z-plane to export:</p>", "a[href=\"#load-a-data-file\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Load a data file<a class=\"headerlink\" href=\"#load-a-data-file\" title=\"Link to this heading\">#</a></h3><p>This demo will use raw ScanImage tiffs.</p><p>Raw ScanImage TIFFs are detected automatically and return an <code class=\"docutils literal notranslate\"><span class=\"pre\">MboRawArray</span></code>:</p>", "a[href=\"#parameters\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Parameters<a class=\"headerlink\" href=\"#parameters\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#special-array-characteristics\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Special array characteristics<a class=\"headerlink\" href=\"#special-array-characteristics\" title=\"Link to this heading\">#</a></h2><p>Lazy arrays have special characteristics depending on what the filetype is used for.</p>", "a[href=\"#mbo-utilities-user-guide\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">mbo_utilities: User Guide<a class=\"headerlink\" href=\"#mbo-utilities-user-guide\" title=\"Link to this heading\">#</a></h1><p><a class=\"reference external\" href=\"https://millerbrainobservatory.github.io/mbo_utilities/installation.html\"><strong>Installation</strong></a> |\n<a class=\"reference external\" href=\"https://millerbrainobservatory.github.io/mbo_utilities/file_formats.html\"><strong>Supported Formats</strong></a> |\n<a class=\"reference external\" href=\"https://millerbrainobservatory.github.io/\"><strong>MBO Hub</strong></a></p><p>An image I/O library with an intuitive GUI for scientific imaging data.</p>", "a[href=\"#axial-registration-scanimage-tiff-suite3d\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Axial registration (ScanImage Tiff: Suite3D)<a class=\"headerlink\" href=\"#axial-registration-scanimage-tiff-suite3d\" title=\"Link to this heading\">#</a></h3><p>Light-beads-microscopy acquisition typically results in each z-plane having a spatial shift relative to adjacent planes. This can be corrected automatically by setting <code class=\"docutils literal notranslate\"><span class=\"pre\">register_z=True</span></code>.</p><p>Suite3D creates a <code class=\"docutils literal notranslate\"><span class=\"pre\">s3d-preprocessed</span></code> directory containing planar shifts and intermediates. During writing, these shifts are loaded and applied to selected z-planes.</p>", "a[href=\"#multi-roi-handling-scanimage-tiff\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Multi-ROI handling (ScanImage Tiff)<a class=\"headerlink\" href=\"#multi-roi-handling-scanimage-tiff\" title=\"Link to this heading\">#</a></h3><p>Control how multiple ROIs are handled.</p><p>By default, they are stitched horizontally:</p>", "a[href=\"#quick-access\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Quick Access<a class=\"headerlink\" href=\"#quick-access\" title=\"Link to this heading\">#</a></h3><p>View metadata via CLI:</p>", "a[href=\"#saving-data-formats-and-conversions\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Saving data: Formats and Conversions<a class=\"headerlink\" href=\"#saving-data-formats-and-conversions\" title=\"Link to this heading\">#</a></h2><p>Convert between any supported formats with <code class=\"docutils literal notranslate\"><span class=\"pre\">imwrite()</span></code>.</p><p>Here, we load the .zarr previously saved, add some metadata, and re-save to several of the supported formats.</p>", "a[href=\"#user-interface-mbo-gui\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">User Interface: MBO-GUI<a class=\"headerlink\" href=\"#user-interface-mbo-gui\" title=\"Link to this heading\">#</a></h2><p>The GUI can be launched in two ways:</p><p><strong>From Python</strong> (Jupyter Lab or Jupyter Notebook only, not VSCode):</p>", "a[href=\"#bi-directional-scan-phase-correction-scanimage-tiff\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Bi-directional Scan-phase correction (ScanImage Tiff)<a class=\"headerlink\" href=\"#bi-directional-scan-phase-correction-scanimage-tiff\" title=\"Link to this heading\">#</a></h3><p>ScanImage Tiffs (MboRawArray) only.</p><p>Bidirectional scanning creates phase offsets between alternating lines:</p>", "a[href=\"#video-export\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Video Export<a class=\"headerlink\" href=\"#video-export\" title=\"Link to this heading\">#</a></h2><p>Export calcium imaging data to video files for presentations and sharing with <code class=\"docutils literal notranslate\"><span class=\"pre\">to_video</span></code>.</p>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(` ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
