selector_to_html = {"a[href=\"#directory-structure\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Directory Structure<a class=\"headerlink\" href=\"#directory-structure\" title=\"Link to this heading\">#</a></h3><p>Standard locations for user data:</p>", "a[href=\"#building-docs\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Building Docs<a class=\"headerlink\" href=\"#building-docs\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#preferences\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Preferences<a class=\"headerlink\" href=\"#preferences\" title=\"Link to this heading\">#</a></h3><p>User preferences stored in <code class=\"docutils literal notranslate\"><span class=\"pre\">~/mbo/settings/preferences.json</span></code>.</p><p>Handles recent files, dialog directories, GUI state, and pipeline defaults.</p>", "a[href=\"#preferences-api\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Preferences API<a class=\"headerlink\" href=\"#preferences-api\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#metadata\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Metadata<a class=\"headerlink\" href=\"#metadata\" title=\"Link to this heading\">#</a></h3><p>Standardized metadata handling with alias resolution across formats (ScanImage, Suite2p, OME, TIFF tags).</p>", "a[href=\"#internals\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Internals<a class=\"headerlink\" href=\"#internals\" title=\"Link to this heading\">#</a></h2><p>Reference for internal systems.</p>", "a[href=\"#testing\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Testing<a class=\"headerlink\" href=\"#testing\" title=\"Link to this heading\">#</a></h2><p>Tests use synthetic data by default.</p>", "a[href=\"#checked-features\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Checked Features<a class=\"headerlink\" href=\"#checked-features\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#installation-validation\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Installation Validation<a class=\"headerlink\" href=\"#installation-validation\" title=\"Link to this heading\">#</a></h3><p>Validates installation, GPU configuration, and optional dependencies.</p>", "a[href=\"#directory-contexts\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Directory Contexts<a class=\"headerlink\" href=\"#directory-contexts\" title=\"Link to this heading\">#</a></h4><p>Each dialog type maintains its own last-used directory:</p>", "a[href=\"#setup\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Setup<a class=\"headerlink\" href=\"#setup\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#registered-parameters\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Registered Parameters<a class=\"headerlink\" href=\"#registered-parameters\" title=\"Link to this heading\">#</a></h4><p>The canonical names for dx and Lx have been chosen to match suite2p, as that was the first pipeline integrated in <code class=\"docutils literal notranslate\"><span class=\"pre\">mbo_utilities</span></code>.</p>", "a[href=\"#voxel-size\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Voxel Size<a class=\"headerlink\" href=\"#voxel-size\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#pipelineinfo-fields\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">PipelineInfo Fields<a class=\"headerlink\" href=\"#pipelineinfo-fields\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#logging-api\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Logging API<a class=\"headerlink\" href=\"#logging-api\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#status-enums\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Status Enums<a class=\"headerlink\" href=\"#status-enums\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#development\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">Development<a class=\"headerlink\" href=\"#development\" title=\"Link to this heading\">#</a></h1><h2>Setup<a class=\"headerlink\" href=\"#setup\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#code-formatting\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Code Formatting<a class=\"headerlink\" href=\"#code-formatting\" title=\"Link to this heading\">#</a></h2><p><a class=\"reference external\" href=\"https://github.com/astral-sh/ruff\">ruff</a> for formatting and linting.</p>", "a[href=\"#querying-the-registry\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Querying the Registry<a class=\"headerlink\" href=\"#querying-the-registry\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#pipeline-registry\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Pipeline Registry<a class=\"headerlink\" href=\"#pipeline-registry\" title=\"Link to this heading\">#</a></h3><p>Central registry for array types and processing pipelines. Tracks file patterns, extensions, and marker files.</p>", "a[href=\"#registering-a-pipeline\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Registering a Pipeline<a class=\"headerlink\" href=\"#registering-a-pipeline\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#parameter-registry\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Parameter Registry<a class=\"headerlink\" href=\"#parameter-registry\" title=\"Link to this heading\">#</a></h4><p>Parameters are defined in <code class=\"docutils literal notranslate\"><span class=\"pre\">METADATA_PARAMS</span></code> with canonical names and aliases:</p>", "a[href=\"#scanimage-detection\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">ScanImage Detection<a class=\"headerlink\" href=\"#scanimage-detection\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#logging\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Logging<a class=\"headerlink\" href=\"#logging\" title=\"Link to this heading\">#</a></h3><p><code class=\"docutils literal notranslate\"><span class=\"pre\">mbo_utilities.log</span></code>.</p><p>All modules use a hierarchical logger under the <code class=\"docutils literal notranslate\"><span class=\"pre\">mbo</span></code> namespace.</p>", "a[href=\"#availability-flags\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Availability Flags<a class=\"headerlink\" href=\"#availability-flags\" title=\"Link to this heading\">#</a></h3><p>Quick boolean checks for optional dependencies (no import overhead):</p>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(` ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
