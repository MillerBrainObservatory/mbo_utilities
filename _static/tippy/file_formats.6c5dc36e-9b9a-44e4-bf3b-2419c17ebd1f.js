selector_to_html = {"a[href=\"#piezoarray\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">PiezoArray<a class=\"headerlink\" href=\"#piezoarray\" title=\"Link to this heading\">#</a></h4><p>Aquisitions using the ScanImage Piezo <code class=\"docutils literal notranslate\"><span class=\"pre\">hStackManager</span></code> produce z-stacks with optional frame averaging.</p>", "a[href=\"#scanimage-arrays\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">ScanImage Arrays<a class=\"headerlink\" href=\"#scanimage-arrays\" title=\"Link to this heading\">#</a></h3><p>Returned when reading raw ScanImage TIFF files. <code class=\"docutils literal notranslate\"><span class=\"pre\">imread()</span></code> auto-detects the stack type:</p><p>This folder containing all <code class=\"docutils literal notranslate\"><span class=\"pre\">tiffs</span></code> for a single session can be passed to <code class=\"docutils literal notranslate\"><span class=\"pre\">imread</span></code>, as well as a single files or a list of files.</p>", "a[href=\"#tiffarray\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">TiffArray<a class=\"headerlink\" href=\"#tiffarray\" title=\"Link to this heading\">#</a></h3><p>Universal TIFF reader for non-ScanImage files. Automatically handles standard TIFF stacks,\nImageJ hyperstacks (interleaved TZYX), and multi-plane volumes (planeXX.tiff directories).</p>", "a[href=\"#suite2parray\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Suite2pArray<a class=\"headerlink\" href=\"#suite2parray\" title=\"Link to this heading\">#</a></h3><p>Suite2p binary files with full ops.npy context.</p>", "a[href=\"#file-formats\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">File Formats<a class=\"headerlink\" href=\"#file-formats\" title=\"Link to this heading\">#</a></h1><p><code class=\"docutils literal notranslate\"><span class=\"pre\">imread()</span></code> and the GUI file dialogs are primarily designed to read <a class=\"reference external\" href=\"https://docs.scanimage.org/\">ScanImage</a> TIFFs\nand future raw filetypes supported at the <a class=\"reference external\" href=\"https://millerbrainobservatory.github.io/\">Miller Brain Observatory</a>.</p><p>The raw metadata is made <a class=\"reference external\" href=\"https://www.openmicroscopy.org/ome-xml/\">OME</a> and ImageJ/Fiji compatible when writing to disk, ensuring downstream tools can interpret volumetric and multi-channel data correctly.</p>", "a[href=\"#lbmarray\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">LBMArray<a class=\"headerlink\" href=\"#lbmarray\" title=\"Link to this heading\">#</a></h4><p>Light Beads Microscopy with z-planes interleaved as ScanImage channels.</p>", "a[href=\"#binarray\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">BinArray<a class=\"headerlink\" href=\"#binarray\" title=\"Link to this heading\">#</a></h3><p>Direct binary file access when no ops.npy context is available.</p>", "a[href=\"#zarrarray\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">ZarrArray<a class=\"headerlink\" href=\"#zarrarray\" title=\"Link to this heading\">#</a></h3><p>Zarr v3 stores including OME-Zarr.</p>", "a[href=\"#quick-reference\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Quick Reference<a class=\"headerlink\" href=\"#quick-reference\" title=\"Link to this heading\">#</a></h2><h3>Detection Logic<a class=\"headerlink\" href=\"#detection-logic\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#h5array\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">H5Array<a class=\"headerlink\" href=\"#h5array\" title=\"Link to this heading\">#</a></h3><p>HDF5 datasets with auto-detection of common dataset names.</p>", "a[href=\"#detection-logic\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Detection Logic<a class=\"headerlink\" href=\"#detection-logic\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#api-reference\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">API Reference<a class=\"headerlink\" href=\"#api-reference\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#lbmpiezoarray\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">LBMPiezoArray<a class=\"headerlink\" href=\"#lbmpiezoarray\" title=\"Link to this heading\">#</a></h4><p>Combined LBM + piezo, typically for pollen calibration.</p>", "a[href=\"#numpyarray\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">NumpyArray<a class=\"headerlink\" href=\"#numpyarray\" title=\"Link to this heading\">#</a></h3><p>Wraps <code class=\"docutils literal notranslate\"><span class=\"pre\">.npy</span></code> files (memory-mapped) or in-memory numpy arrays.</p>", "a[href=\"#common-properties\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Common Properties<a class=\"headerlink\" href=\"#common-properties\" title=\"Link to this heading\">#</a></h2><p>All array types provide:</p>", "a[href=\"#isoviewarray\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">IsoviewArray<a class=\"headerlink\" href=\"#isoviewarray\" title=\"Link to this heading\">#</a></h3><p>Isoview lightsheet microscopy data (multi-view, multi-timepoint).</p>", "a[href=\"#singleplanearray\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">SinglePlaneArray<a class=\"headerlink\" href=\"#singleplanearray\" title=\"Link to this heading\">#</a></h4><p>Single-plane time series (no z-stack).</p>", "a[href=\"#array-types\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Array Types<a class=\"headerlink\" href=\"#array-types\" title=\"Link to this heading\">#</a></h2><h3>ScanImage Arrays<a class=\"headerlink\" href=\"#scanimage-arrays\" title=\"Link to this heading\">#</a></h3><p>Returned when reading raw ScanImage TIFF files. <code class=\"docutils literal notranslate\"><span class=\"pre\">imread()</span></code> auto-detects the stack type:</p><p>This folder containing all <code class=\"docutils literal notranslate\"><span class=\"pre\">tiffs</span></code> for a single session can be passed to <code class=\"docutils literal notranslate\"><span class=\"pre\">imread</span></code>, as well as a single files or a list of files.</p>", "a[href=\"#writing-data\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Writing Data<a class=\"headerlink\" href=\"#writing-data\" title=\"Link to this heading\">#</a></h2><p>All array types support <code class=\"docutils literal notranslate\"><span class=\"pre\">imwrite()</span></code>:</p>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(` ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
