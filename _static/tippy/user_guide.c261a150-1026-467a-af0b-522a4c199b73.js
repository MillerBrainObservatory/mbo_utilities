selector_to_html = {"a[href=\"#stitched-fused-multiroi-s\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Stitched/Fused multiROI\u2019s<a class=\"headerlink\" href=\"#stitched-fused-multiroi-s\" title=\"Link to this heading\">#</a></h4>", "a[href=\"#lazy-array-types-quick-reference\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Lazy Array Types: Quick Reference<a class=\"headerlink\" href=\"#lazy-array-types-quick-reference\" title=\"Link to this heading\">#</a></h3><p>Pass a list of files, or a wildcard string (e.g. \u201c/path/to/files/*\u201d matches all files in that directory) to <code class=\"docutils literal notranslate\"><span class=\"pre\">mbo.imread()</span></code>.</p>", "a[href=\"#whats-next\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Whats Next<a class=\"headerlink\" href=\"#whats-next\" title=\"Link to this heading\">#</a></h2><p>See <a class=\"reference external\" href=\"https://github.com/MillerBrainObservatory/LBM-Suite2p-Python/blob/master/demos/notebooks/quickstart.ipynb\">LBM-Suite2p-Python Quickstart</a> for suite2p registration and segmentation.</p>", "a[href=\"#accessing-image-data\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Accessing image data<a class=\"headerlink\" href=\"#accessing-image-data\" title=\"Link to this heading\">#</a></h3><p>Numpy-like indexing:</p>", "a[href=\"#individual-rois\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\"><strong>Individual ROIs</strong><a class=\"headerlink\" href=\"#individual-rois\" title=\"Link to this heading\">#</a></h4><p>Saving each ROI into a separate directory will to treat as entirely different datasets. LBM-Suite2p-Python contains utilities to merge after processing.</p>", "a[href=\"#visualize-data-with-fastplotlib-jupyter-only\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Visualize data with <a class=\"reference external\" href=\"https://www.fastplotlib.org/user_guide/guide.html#what-is-fastplotlib\">fastplotlib</a> (jupyter only)<a class=\"headerlink\" href=\"#visualize-data-with-fastplotlib-jupyter-only\" title=\"Link to this heading\">#</a></h2><p>To get a rough idea of the quality of your extracted timeseries, we can create a fastplotlib visualization to preview traces of individual pixels.</p><p>Here, we simply click on any pixel in the movie, and we get a 2D trace (or \u201ctemporal component\u201d as used in this field) of the pixel through the course of the movie:</p>", "a[href=\"#quickstart\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Quickstart<a class=\"headerlink\" href=\"#quickstart\" title=\"Link to this heading\">#</a></h2>", "a[href=\"#supported-filetypes\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Supported Filetypes<a class=\"headerlink\" href=\"#supported-filetypes\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#file-naming-convention\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">File Naming Convention<a class=\"headerlink\" href=\"#file-naming-convention\" title=\"Link to this heading\">#</a></h3><p>For saving raw scanimage tiffs, each z-plane is saved/processed sequentially.</p>", "a[href=\"#mbo-utilities-user-guide\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">mbo_utilities: User Guide<a class=\"headerlink\" href=\"#mbo-utilities-user-guide\" title=\"Link to this heading\">#</a></h1><p>Converting raw scanimage-tiff files into fused z-planes.</p><p>There are two computational efforts made during extraction:</p>", "a[href=\"#suite3d-outputs\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Suite3D: Outputs<a class=\"headerlink\" href=\"#suite3d-outputs\" title=\"Link to this heading\">#</a></h4><p>Suite3d takes a subset of input tiffs and creates a <code class=\"docutils literal notranslate\"><span class=\"pre\">s3d_preprocessed</span></code> directory that stores the planar shifts and several intermediates.</p>", "a[href=\"#suite3d-axial-z-registration\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Suite3D: Axial (Z) Registration<a class=\"headerlink\" href=\"#suite3d-axial-z-registration\" title=\"Link to this heading\">#</a></h3><p>Light-beads-microscopy data aquisition typically results in each z-plane having a shift relative to the previous z-plane in space.</p><p>This can be corrected for automatically by setting <code class=\"docutils literal notranslate\"><span class=\"pre\">register_z=True</span></code>.</p>", "a[href=\"#read-data\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Read data<a class=\"headerlink\" href=\"#read-data\" title=\"Link to this heading\">#</a></h2><p><code class=\"docutils literal notranslate\"><span class=\"pre\">mbo_utilities.imread()</span></code> is a smart file reader that automatically detects the file type and returns the appropriate lazy array class.</p><p>Each array has functionality, depending on the use of the filetype.</p>", "a[href=\"#scan-phase-correction\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Scan-Phase Correction<a class=\"headerlink\" href=\"#scan-phase-correction\" title=\"Link to this heading\">#</a></h3><p><img alt=\"\" src=\"_images/corr_nocorr_phase_example.png\"/></p>", "a[href=\"#verify-suite3d-registration\"]": "<h5 class=\"tippy-header\" style=\"margin-top: 0;\">Verify Suite3D Registration<a class=\"headerlink\" href=\"#verify-suite3d-registration\" title=\"Link to this heading\">#</a></h5><p>We can use the intermediates saved by suite3D to preview a subsampled version of the data.</p>", "a[href=\"#write-data\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Write data<a class=\"headerlink\" href=\"#write-data\" title=\"Link to this heading\">#</a></h2><p><code class=\"docutils literal notranslate\"><span class=\"pre\">mbo.imwrite</span></code> takes any of the <a class=\"reference external\" href=\"https://millerbrainobservatory.github.io/mbo_utilities/array_types.html\">lazy array types</a> as inputs, and a filepath as outputs. If not given, the ouptut path will be the parent of the lazy arrays filename.</p>", "a[href=\"#multi-roi-reading\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Multi-ROI reading<a class=\"headerlink\" href=\"#multi-roi-reading\" title=\"Link to this heading\">#</a></h3>", "a[href=\"#accessing-metadata\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Accessing metadata<a class=\"headerlink\" href=\"#accessing-metadata\" title=\"Link to this heading\">#</a></h3><p><code class=\"docutils literal notranslate\"><span class=\"pre\">mbo.imread</span></code> automatically collects all available metadata in the file.</p><p>This metadata reflects information on all the options selected and otherwise available in ScanImage, for an image acquisition, as well as specific parameters that pertain to the current parameter set e.g. number of rois, number of frames, scan-phase correction properties, etc.</p>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(` ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: true,
                placement: 'auto-start', maxWidth: 500, interactive: false,

            });
        };
    };
    console.log("tippy tips loaded!");
};
